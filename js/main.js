"use strict";!function(){let e=document.getElementsByClassName("page-header")[0];function t(t){let s=e.getElementsByClassName("page-header__navigation")[0],o=s.classList.contains("page-header__navigation--opened");window.innerWidth>=1170&&o&&l();let c=e.getElementsByClassName("page-header__open")[0],d=e.getElementsByClassName("page-header__close")[0];function l(){s.classList.remove("page-header__navigation--opened"),i()}t.target!==c||o||(s.classList.add("page-header__navigation--opened"),n(l)),t.target===d&&o&&l()}function n(e){let t=document.createElement("div");t.classList.add("shading"),document.body.appendChild(t),t.addEventListener("click",e,!1),document.body.onkeydown=function(t){27===t.keyCode&&(e(),document.body.onkeydown=null)}}function i(){document.body.removeChild(document.getElementsByClassName("shading")[0])}e.addEventListener("click",t,!1),window.addEventListener("resize",t,!1);let s=document.querySelectorAll("*[data-modal");for(let e=0;e<s.length;e++)s[e].addEventListener("click",o,!1);function o(){let e=document.getElementsByClassName("modal-request")[0];e.style.display="block",e.querySelector(".consult-request")[0].focus(),e.querySelector(".button--close").addEventListener("click",c,!1),n(c)}function c(){document.getElementsByClassName("modal-request")[0].style.display="none",i()}document.getElementsByClassName("start-home__down")[0].addEventListener("click",function(){window.scrollBy(0,document.body.scrollHeight-window.innerHeight-window.pageYOffset)},!1),document.getElementsByClassName("switch")[0].addEventListener("change",g,!0);let d=document.getElementsByClassName("switch__indicator")[0];d.addEventListener("click",h,!1);let l,a,r=document.querySelectorAll("section[aria-labelledby]:not(.services)"),u=document.querySelectorAll("li.services__main-item");function m(){if(e.getBoundingClientRect().bottom>=10)g("header");else if(r[0].getBoundingClientRect().bottom>=10)g(r[0].id);else{for(let e=0;e<u.length;e++)if(u[e].getBoundingClientRect().bottom>=10)return void g("services"+(e+1));for(let e=1;e<r.length;e++){if(e==r.length-2&&r[r.length-1].getBoundingClientRect().top<=window.outerHeight/2)return void g(r[r.length-1].id);if(r[e].getBoundingClientRect().bottom>=10)return void g(r[e].id)}}}function g(t){let n=t,i=t;if(!l||l!==t){if(l=t,t.target){if("INPUT"!==t.target.nodeName)return;document.removeEventListener("scroll",m,!1),n=t.target.id.substring(14),i=u[+t.target.id.substr(-1,1)-1]}switch(n){case"header":s(e);break;case"about-us":s(r[0]);break;case"services1":case"services2":case"services3":s(i,!0);break;case"reviews":s(r[1]);break;case"questions":s(r[2]);break;case"contacts":s(r[3])}}function s(e,n){if(t.target)e.scrollIntoView();else{document.getElementById("switchButton__"+t).checked=!0}h(n),setTimeout(function(){document.addEventListener("scroll",m,!1)},100)}}function h(e){let t=d.classList.contains("switch__indicator--checked"),n=document.querySelector(".switch__button:checked");if(e&&n&&(n.checked=!1),e&&e.target){let e=document.getElementById("switchButton__services1");e.focus(),e.checked=!0,document.getElementsByClassName("services")[0].scrollIntoView()}e&&!t&&d.classList.add("switch__indicator--checked"),!e&&t&&d.classList.remove("switch__indicator--checked")}document.addEventListener("scroll",m,!1),document.addEventListener("focus",function(e){a&&"switchButton"!==a.name&&"switchButton"===e.target.name||e.target.classList&&e.target.classList.contains("switch__indicator")?document.onkeydown=function(e){9===e.keyCode&&(a.focus(),document.onkeydown=null)}:"#document"!==e.target.nodeName&&e.target!==document.body&&e.target!==document.documentElement&&(a=e.target)},!0);let f,_=document.getElementsByClassName("slider");for(let e=0;e<_.length;e++)_[e].addEventListener("click",v,!1);function v(e){if(!e.target.classList.contains("slider__button"))return;let t=/services/.test(e.target.id),n=/next/.test(e.target.id),i=t?"services":"reviews",s=document.querySelector("."+i+"__slider .slider__item--active");function o(e){if(f)return;let i=e.parentElement;if(s.classList.remove("slider__item--active"),e.classList.add("slider__item--active"),t)n?o():c();else{let e=n?"-":"";!function(e,t){let s=performance.now();let d,l=window.innerWidth<750,a=!l&&window.innerWidth<1170;l&&(d=180);a&&(d=110);l||a||(d=103);requestAnimationFrame(function l(a){f=!0;let r=a-s;r>t&&(r=t),r<0&&(r=0),e(r,d),r<t?requestAnimationFrame(l):(f=!1,i.style.left=null,n?o():c())})}(function(t,n){i.style.left=e+t/500*n+"%"},500)}function o(){i.removeChild(s),i.appendChild(s)}function c(){i.removeChild(e),i.insertBefore(e,i.children[0])}}o(n?s.nextElementSibling:document.querySelector("."+i+"__slider .slider__item:last-child"))}}();